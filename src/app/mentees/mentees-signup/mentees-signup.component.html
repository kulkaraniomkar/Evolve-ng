<div class="spinner-container" *ngIf="(loading$ | async )">
    <mat-spinner></mat-spinner>
</div>
<div *ngIf="mentee" class="card">
    <div class="card-header">
        <h4>{{title}}</h4>
    </div>
    <div class="card-body">
        <form [formGroup]="menteeForm" (ngSubmit)="save()">
            <!--Interest-->
            <app-interest formControlName="interest" [displayText]="'Interests/passion'"
                [placeholderText]="'Enter your interests here'">
            </app-interest>
            <!--mentoring period-->
            <app-periodmentoring-form formControlName="mentorPeriod" [mentoringTimeDropdown]="mentee['UnitOfTimes']">
            </app-periodmentoring-form>
            <mat-card>
            <!-- Division and typeahead -->
            <div class="row">
                <!--Choose a division-->
                <div class="col-lg-6 col-md-12 col-sm-12">
                    <h5 class="card-title">Would you prefer a mentor from within your division? <span
                            style="color:red">*</span></h5>
                    <mat-radio-group labelPosition="after" aria-labelledby="custom-radio-group-label"
                        class="custom-radio-group" formControlName="inDivision">
                        <mat-radio-button class="custom-radio-button" value="1">
                            Yes
                        </mat-radio-button>
                        <mat-radio-button class="custom-radio-button" value="2">
                            No
                        </mat-radio-button>
                        <mat-radio-button class="custom-radio-button" value="3">
                            Doesn't matter
                        </mat-radio-button>

                    </mat-radio-group>
                    <mat-error>
                        <span *ngIf="!menteeForm.get('inDivision').valid && menteeForm.get('inDivision').touched">Please
                            select division</span>
                    </mat-error>
                </div>
                <!--Choose a mentor from any division :: Typeahead-->
                <div class="col-lg-6 col-md-12 col-sm-12">
                        <h5 class="card-title">Search for preferred mentor <span
                            style="color:red">*</span></h5>
                    <mat-form-field class="typeahead-full-width" appearance="outline">
                        <input matInput placeholder="Enter your preferred mentor name" aria-label="Mentor"
                            [matAutocomplete]="auto" formControlName="mentorName">
                        <mat-label>Mentor autocomplete search <span style="color: red;">*</span></mat-label>
                        <mat-icon matSuffix>search</mat-icon>
                        <mat-autocomplete #auto="matAutocomplete">
                            <mat-option *ngIf="'isLoading'" class="is-loading"><mat-spinner diameter="50"></mat-spinner></mat-option>
                            <ng-container *ngIf="'!isLoading'" >
                            <mat-option *ngFor="let mentor of filteredMentors$ | async" [value]="mentor.FullName" (click)="selectedEmployee(mentor.EmployeeId)">
                                {{mentor.FullName | titlecase}}
                            </mat-option>
                        </ng-container>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>
            </div>
        </mat-card>
        <br/>
            <!--Preferences-->
            <app-mentee-preference formControlName="genderAge" [genderData]="mentee['Gender']"
                [ageData]="mentee['AgePreference']"></app-mentee-preference>
            <!--Achiviement and experience-->
            <div class="row">
                <!-- Achievement -->
                <div class="col-lg-6 col-md-12 col-sm-12">

                    <app-checkboxes [data]="mentee['DomainAreas']"
                        [checkboxesTitle]="'What I would like to achieve from mentoring (Choose 3)'"
                        formControlName="achievements">
                    </app-checkboxes>
                </div>
                <!-- Experience -->
                <div class="col-lg-6 col-md-12 col-sm-12">
                        <!-- <mat-radio-group aria-labelledby="custom-radio-group-label" class="custom-radio-group"  [formControlName]="experience">
                                <mat-radio-button class="custom-radio-button" *ngFor="let item of mentee['Experiences']; let i = index"
                                [value]="item['Value']">
                                    {{item['Text']}}
                                </mat-radio-button>
                            </mat-radio-group> -->
                    <app-experience [experienceTitle]="'Type of experience I seek in a mentor'"
                        [experienceData]="mentee['Experiences']" formControlName="experience">
                    </app-experience>
                </div>
            </div>

            <!-- Comments-->
            <app-interest formControlName="comment" [displayText]="'Comments'"></app-interest>
            <!--Terms and conditions-->
            <app-terms-conditions formControlName="conditions"></app-terms-conditions>
            <br />
            <!--Save, Submit and Cancel buttons-->
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-8 col-sm-12">
                    <button mat-raised-button color="primary" type="submit"
                        [disabled]="!menteeForm.valid">&nbsp;Submit&nbsp;</button>
                    &nbsp;&nbsp;&nbsp;
                    <button mat-raised-button color="warn">Cancel</button>
                </div>
            </div>

        </form>

    </div>
</div>