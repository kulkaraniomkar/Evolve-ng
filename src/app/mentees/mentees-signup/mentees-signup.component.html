<div class="spinner-container" *ngIf="(loading$ | async )">
    <mat-spinner></mat-spinner>
</div>
<div *ngIf="menteeDisplayData$ | async as displayData">
    <div class="card">
        <div class="card-header">
            <h4>{{title}}</h4>
        </div>

        <div class="card-body">
            <form [formGroup]="menteeForm" (ngSubmit)="save()">
                <!--Interest-->
                <app-interest formControlName="Interest" [displayText]="'Interests/passion'"></app-interest>

                <app-periodmentoring-form [mentoringTimeDropdown]="displayData['results'][0]['UnitOfTimes']">
                </app-periodmentoring-form>
                <br />
                <div class="row">
                    <!--Choose a division-->
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <mat-label>Would you prefer a mentor from within your division? <span style="color:red">*</span>
                        </mat-label><br />
                        <mat-radio-group labelPosition="after" aria-labelledby="custom-radio-group-label"
                            class="custom-radio-group" formControlName="InDivision">
                            <mat-radio-button class="custom-radio-button" value="1">
                                Yes
                            </mat-radio-button>
                            <mat-radio-button class="custom-radio-button" value="2">
                                No
                            </mat-radio-button>
                            <mat-radio-button class="custom-radio-button" value="3">
                                Doesn't matter
                            </mat-radio-button>

                        </mat-radio-group>
                        <mat-error>
                            <span
                                *ngIf="!menteeForm.get('InDivision').valid && menteeForm.get('InDivision').touched">Please
                                select division</span>
                        </mat-error>
                    </div>
                    <!--Choose a mentor from any division-->
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <mat-form-field class="typeahead-full-width" appearance="outline">
                            <input matInput placeholder="Mentor search" aria-label="Mentor" [matAutocomplete]="auto"
                                formControlName="mentorName">
                            <mat-label>Mentor autocomplete</mat-label>
                            <mat-icon matSuffix>search</mat-icon>
                            <mat-autocomplete #auto="matAutocomplete">
                                <mat-option *ngFor="let mentor of filteredMentors$ | async" [value]="mentor.name">
                                    {{mentor.name | titlecase}}
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>
                </div>
                <!--Preferences-->
                <!-- <app-mentee-preference formControlName="GenderPeriodAge"
                    [genderData]="displayData['results'][0]['Gender']"
                    [ageData]="displayData['results'][0]['AgePreferences']"
                    [mentoringTimeData]="displayData['results'][0]['UnitOfTimes']"></app-mentee-preference>
                <br /> -->
                <div class="row">
                    <!-- Achievement -->
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <app-achievement [achievementTitle]="'What I would like to achieve from mentoring (Choose 3)'"
                            [achievementData]="displayData['results'][0]['DomainAreas']" formControlName="experience">
                        </app-achievement>
                    </div>
                    <!-- Experience -->
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <app-experience [experienceTitle]="'Type of experience I seek in a mentor'"
                            [experienceData]="displayData['results'][0]['Experiences']" formControlName="experience">
                        </app-experience>
                    </div>
                </div>

                <!-- Comments-->
                <app-interest formControlName="Comment" [displayText]="'Comments'"></app-interest>
                <!--Terms and conditions-->
                <app-terms-conditions formControlName="conditions"></app-terms-conditions>
                <br />
                <!--Save, Submit and Cancel buttons-->
                <div class="row justify-content-center">
                    <div class="col-lg-12 col-md-8 col-sm-12">
                        <button mat-raised-button color="primary" type="submit"
                            [disabled]="!menteeForm.valid">&nbsp;Save&nbsp;</button>
                        &nbsp;&nbsp;&nbsp;
                        <button mat-raised-button color="warn">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <pre>
        {{menteeForm.value | json}}
    </pre>
</div>