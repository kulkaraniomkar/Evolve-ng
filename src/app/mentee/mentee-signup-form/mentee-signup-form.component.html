<div *ngIf="_mentee" class="card">
    <div class="card-header">
        <h4>{{title}}</h4>
    </div>
    <div class="card-body">
        <form [formGroup]="menteeForm" (ngSubmit)="submit()">
            <!-- Interest or passion-->
            <div class="col-lg-12 col-md-12 col-sm-12">
                <mat-form-field appearance="outline" class="textarea-full-width">
                    <mat-label>Interest/passion<span style="color:red">*</span></mat-label>
                    <textarea matInput placeholder="Enter your passion or interest" cdkTextareaAutosize
                        cdkAutosizeMinRows="4" cdkAutosizeMaxRows="5" #autosize="cdkTextareaAutosize"
                        formControlName="Interest">
                    </textarea>
                    <mat-error
                        *ngIf="menteeForm.get('Interest').hasError('required') && menteeForm.get('Interest').touched">
                        Required
                    </mat-error>
                </mat-form-field>
            </div>
            <!--Mentoring period-->
            <div class="col-lg-6 col-md-12 col-sm-12">
                <h6 class="card-title">Mentoring period</h6>
                <!--unit of measurement -->
                <mat-form-field appearance="outline">
                    <mat-label>Select <span style="color: red;">*</span></mat-label>
                    <mat-select formControlName="UnitOfTimeId">
                        <mat-option *ngFor="let item of _mentee['UnitOfTimes']" [value]="item['Value']">
                            {{item['Text']}}
                        </mat-option>
                    </mat-select>
                    <mat-error
                        *ngIf="menteeForm.get('UnitOfTimeId').hasError('required')  && menteeForm.get('UnitOfTimeId').touched">
                        Required
                    </mat-error>


                </mat-form-field>
                <!-- duration-->
                <mat-form-field appearance="outline" class="input-width">
                    <mat-label>Duration <span style="color: red;">*</span></mat-label>
                    <input matInput placeholder="Duration" type="number" formControlName="YearsOfExperience" />
                    <mat-icon matSuffix>watch_later</mat-icon>
                    <mat-error
                        *ngIf="menteeForm.get('YearsOfExperience').hasError('min') && menteeForm.get('YearsOfExperience').touched">
                        Minimum value must be 1
                    </mat-error>
                    <mat-error
                        *ngIf="menteeForm.get('YearsOfExperience').hasError('max') && menteeForm.get('YearsOfExperience').touched">
                        Maximum value must be 18 months
                    </mat-error>
                </mat-form-field>
            </div>
            <mat-card>
                <!-- Division and typeahead -->
                <div class="row">
                    <!--Choose a division-->
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <h6 class="card-title">Would you prefer a mentor from within your division? <span
                                style="color:red">*</span></h6>
                        <mat-radio-group labelPosition="after" aria-labelledby="custom-radio-group-label"
                            class="custom-radio-group" formControlName="InDivision">
                            <mat-radio-button class="custom-radio-button" value="1">
                                Yes
                            </mat-radio-button>
                            <mat-radio-button class="custom-radio-button" value="2">
                                No
                            </mat-radio-button>
                            <mat-radio-button class="custom-radio-button" value="3">
                                Doesn't matter
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                    <!--Choose a mentor from any division :: Typeahead-->
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <h6 class="card-title">Search for preferred mentor <span style="color:red">*</span></h6>
                        <mat-form-field class="typeahead-full-width" appearance="outline">
                            <input matInput placeholder="Enter your preferred mentor name" aria-label="Mentor"
                                [matAutocomplete]="auto" formControlName="PreferredMentorEmpId">
                            <mat-label>Mentor autocomplete search <span style="color: red;">*</span></mat-label>
                            <mat-icon matSuffix>search</mat-icon>
                            <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                                <mat-option *ngIf="'isLoading'" class="is-loading">
                                    <mat-spinner diameter="50"></mat-spinner>
                                </mat-option>
                                <ng-container *ngIf="'!isLoading'">
                                    <mat-option *ngFor="let mentor of filteredMentors$ | async" [value]="mentor">
                                        <span><img width="50px"
                                                src="http://rmb-vdv-aspn01/evolve/user_photos/{{mentor.EmployeeId}}.jpg" /></span>&nbsp;&nbsp;
                                        {{mentor.FullName | titlecase}}<br />
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                        </mat-form-field>
                    </div>
                </div>
            </mat-card>
            <br />
            <div class="row">

                <div class="col-lg-6 col-md-12 col-sm-12">
                    <h5 class="card-title">Select prefered mentor gender <span style="color:red">*</span></h5>
                    <mat-radio-group aria-labelledby="gender radio group" formControlName="Gender" class="custom-radio-group">
                        <mat-radio-button *ngFor="let item of sortedArrayGender; let i = index" [value]="item['Value']">
                            {{item['Text']}} &nbsp;
                        </mat-radio-button>
                    </mat-radio-group>
                </div>
                <div class="col-lg-6 col-md-12 col-sm-12">
                    <h5 class="card-title">Select prefered mentor age <span style="color:red">*</span> </h5>
                    <mat-radio-group aria-labelledby="gender radio group" formControlName="Age" class="custom-radio-group">
                        <mat-radio-button *ngFor="let item of sortedArrayAge; let i = index" [value]="item['Value']">
                            {{item['Text']}} &nbsp;
                        </mat-radio-button>
                    </mat-radio-group>
                </div>
            </div>
            <!--Achievement and experience-->
            <div class="row">
                <!-- achievement -->
                <div class="col-lg-6 col-md-12 col-sm-12">
                    <h6 class="card-title">What I would like to achieve from mentoring (Choose 3) &nbsp;<span
                            style="color:red">*</span></h6>
                    <ng-container>
                        <div formArrayName="MentorDomianArea"
                            *ngFor="let item of menteeForm.controls.MentorDomianArea['controls']; let i=index">
                            <mat-checkbox value="item[i]['Value']" [formControlName]="i" >
                                {{sortedArrayDomainAreas[i]['Text']}}&nbsp; 
                            </mat-checkbox>
                           
                            <br />
                        </div>
                        <mat-error *ngIf="menteeForm.get('MentorDomianArea').hasError('limit') && menteeForm.get('MentorDomianArea').touched">
                               Choose only 3
                            </mat-error>
                    </ng-container>
                </div>
                <!-- experience -->
                <div class="col-lg-6 col-md-12 col-sm-12">
                    <h6 class="card-title">Type of experience I seek in a mentor<span style="color:red">*</span></h6>
                    <mat-radio-group aria-labelledby="custom-radio-group-label" class="custom-radio-group"
                        formControlName="ExperienceId">
                        <mat-radio-button class="custom-radio-button"
                            *ngFor="let item of sortedArrayExperiences; let i = index" [value]="item['Value']">
                            {{item['Text']}}
                        </mat-radio-button>
                    </mat-radio-group>

                </div>
            </div>
            <!-- Comments-->
            <div class="col-lg-12 col-md-12 col-sm-12">
                <mat-form-field appearance="outline" class="textarea-full-width">
                    <mat-label>Comments<span style="color:red">*</span></mat-label>
                    <textarea matInput placeholder="Enter your comments" cdkTextareaAutosize cdkAutosizeMinRows="4"
                        cdkAutosizeMaxRows="5" #autosize="cdkTextareaAutosize" formControlName="Comments">
                        </textarea>
                </mat-form-field>
            </div>
            <!--Terms and conditions-->
            <div class="col-lg-12 col-md-10 col-sm-12" style="padding-left: 1em; padding-right: 1em;">
                <div class="card">
                    <div class="card-body">
                        <div class="row">

                            <!-- share profile-->
                            <div class="col-lg-12 col-md-12 col-sm-12">

                                <mat-checkbox [formControlName]="'ShareProfile'">
                                    I am comfortable that you share the above profile with a prospective/assigned mentor
                                </mat-checkbox>
                                <br />

                            </div>
                            <!--terms-->
                            <div class="col-lg-12 col-md-12 col-sm-12">

                                <mat-checkbox [formControlName]="'ReadTerms'">
                                    I have read and understood the criteria to become a mentee
                                </mat-checkbox>
                                <br />

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <!--Save, Submit and Cancel buttons-->
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-8 col-sm-12">
                    <button mat-raised-button color="primary" type="submit"
                        [disabled]="!menteeForm.valid">&nbsp;Submit&nbsp;</button>
                    &nbsp;&nbsp;&nbsp;
                    <button mat-raised-button color="warn" (click)="openDialog()" type="button">Cancel</button>
                </div>
            </div>

        </form>
    </div>
</div>