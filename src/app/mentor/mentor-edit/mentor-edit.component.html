<div class="spinner-container" *ngIf="(loading$ | async )">
    <mat-spinner></mat-spinner>
</div>
<div *ngIf="mentor" class="card">
    <div class="card-header">
        <h4>{{title}}</h4>
    </div>
    <div class="card-body">
        <form [formGroup]="mentorForm">
            <!--Interests or passions-->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Interest/Passion &nbsp;<span style="color:red">*</span></mat-label>
                <textarea matInput placeholder="Enter your interests" cdkTextareaAutosize cdkAutosizeMinRows="4"
                    cdkAutosizeMaxRows="5" #autosize="cdkTextareaAutosize" formControlName="Passion">
                </textarea>
                <mat-error>
                    <span *ngIf="mentorForm.get('Passion').hasError('required') && mentorForm.get('Passion').touched">
                        Required
                    </span>
                    <span *ngIf="mentorForm.get('Passion').hasError('max') && mentorForm.get('Passion').touched">Please
                        Max characters of 500 required
                    </span>
                </mat-error>
            </mat-form-field>
            <!-- professional background-->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Professional background (if applicable): eg. CA <span style="color: red;">*</span>
                </mat-label>
                <input matInput placeholder="Enter your professional background here" type="text"
                    formControlName="ProfessionalBackground" />
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error>
                    <span
                        *ngIf="mentorForm.get('ProfessionalBackground').hasError('required') && mentorForm.get('ProfessionalBackground').touched">
                        Required
                    </span>
                    <span
                        *ngIf="mentorForm.get('ProfessionalBackground').hasError('max') && mentorForm.get('ProfessionalBackground').touched">Please
                        Max characters of 50 required
                    </span>
                </mat-error>
            </mat-form-field>
            <!--Interests in being a mentor-->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>My interest in being a mentor<span style="color:red">*</span></mat-label>
                <textarea matInput placeholder="Enter your interests in being a mentor" cdkTextareaAutosize
                    cdkAutosizeMinRows="4" cdkAutosizeMaxRows="5" #autosize="cdkTextareaAutosize"
                    formControlName="Interest">
        </textarea>
                <mat-error>
                    <span
                        *ngIf="mentorForm.controls.Interest.hasError('required') && mentorForm.controls.Interest.touched">
                        Required
                    </span>
                    <span
                        *ngIf="mentorForm.controls.Interest.hasError('max') && mentorForm.controls.Interest.touched">Please
                        Max characters of 200 required
                    </span>
                </mat-error>
            </mat-form-field>
            <!--Mentoring commitment-->
            <div class="row" style="padding-left: 1em;">
                <div class="col-lg-6 col-md-12 col-sm-12">
                <mat-form-field appearance="outline">
                    <mat-label>Unit of time <span style="color: red;">*</span></mat-label>
                    <input matInput type="text" formControlName="UnitOfTimeId"
                        [value]="unitOfTimes[0]['Value'] == 1 ? 'Months' : ''" />
                    <mat-icon matSuffix>calendar_today</mat-icon>
                    <mat-error
                        *ngIf="mentorForm.get('UnitOfTimeId').hasError('required')  && mentorForm.get('UnitOfTimeId').touched">
                        Required
                    </mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="input-width">
                    <mat-label>Duration <span style="color: red;">*</span></mat-label>
                    <input matInput placeholder="Duration" type="number" formControlName="Duration" />
                    <mat-icon matSuffix>watch_later</mat-icon>
                    <mat-error
                        *ngIf="mentorForm.get('Duration').hasError('required')  && mentorForm.get('Duration').touched">
                        Required
                    </mat-error>
                    <mat-error *ngIf="mentorForm.get('Duration').hasError('min') && mentorForm.get('Duration').touched">
                        Minimum value must be 1
                    </mat-error>
                    <mat-error *ngIf="mentorForm.get('Duration').hasError('max') && mentorForm.get('Duration').touched">
                        Maximum value must be 18 months
                    </mat-error>
                </mat-form-field>
                </div>
                 <!-- available -->
                 <div class="col-lg-6 col-md-12 col-sm-12">
        
                        <mat-checkbox formControlName="Available">
                            I am available for the duration 
                        </mat-checkbox>
                        <br />
                        <mat-error *ngIf="mentorForm.get('Available').hasError('required') && mentorForm.get('Available').touched">
                                Check to indicate availability
                        </mat-error>

                    </div>
            </div>
            <!--Prior roles -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Prior Roles in RMB <span style="color: red;">*</span></mat-label>
                <input matInput placeholder="Enter your previous role" type="text" formControlName="PriorRoles" />
                <mat-icon matSuffix>work_outline</mat-icon>
                <mat-error
                *ngIf="mentorForm.get('PriorRoles').hasError('required') && mentorForm.get('PriorRoles').touched">
                Required
            </mat-error>
            <mat-error
                *ngIf="mentorForm.get('PriorRoles').hasError('minlength') && mentorForm.get('PriorRoles').touched">
                Too short
            </mat-error>
            <mat-error
                *ngIf="mentorForm.get('PriorRoles').hasError('maxlength') && mentorForm.get('PriorRoles').touched">
                Oops, maximum characters exceeded.
            </mat-error>
            </mat-form-field>
            <div class="row">
                <div class="col-lg-6">
                    <h6 class="card-title">I have experience in the following areas (tick as appropriate)&nbsp;<span
                            style="color:red">*</span></h6>
                    <ng-container>
                        <div formArrayName="Experiences" *ngFor="let item of sortedArrayExperiences; let i=index">
                            <mat-checkbox value="item[i]['Value']" [formControlName]="i">
                                {{sortedArrayExperiences[i]['Text']}}
                            </mat-checkbox>
                            <br />
                        </div>
                    </ng-container>
                    <mat-error
                    *ngIf="mentorForm.get('Experiences').hasError('zero') && mentorForm.get('Experiences').touched">
                    Choose at least one.
                </mat-error>
                </div>
                <div class="col-lg-6">
                    <h6 class="card-title">Areas in which I can add value to a mentee (tick as appropriate)
                        <span style="color:red">*</span>
                    </h6>
                    <ng-container formArrayName="MentorDomianArea"
                        *ngFor="let item of sortedArrayDomainAreas; let i=index">
                        <mat-checkbox value="item['Value']" [formControlName]="i">
                            {{sortedArrayDomainAreas[i]['Text']}}
                        </mat-checkbox>

                        <br />
                    </ng-container>
                    <mat-error
                        *ngIf="mentorForm.get('MentorDomianArea').hasError('zero') && mentorForm.get('MentorDomianArea').touched">
                        Choose at least one.
                    </mat-error>
                </div>
            </div>
            <!-- Comments -->
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Comments<span style="color:red">*</span></mat-label>
                <textarea matInput placeholder="Enter your comments" cdkTextareaAutosize cdkAutosizeMinRows="4"
                    cdkAutosizeMaxRows="5" #autosize="cdkTextareaAutosize" formControlName="Comment">
            </textarea>
            </mat-form-field>
                <!--Terms and conditions-->
                <div class="col-lg-12 col-md-10 col-sm-12" style="padding-left: 1em; padding-right: 1em;">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
        
                                   
                                    <!--terms-->
                                    <div class="col-lg-12 col-md-12 col-sm-12">
        
                                        <mat-checkbox formControlName="ReadTerms">
                                            I have read and understood the criteria to become a mentee
                                        </mat-checkbox>
                                        <br />
        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
            <!--Save, Submit and Cancel buttons-->
            <div class="row justify-content-center">
                <div class="col-lg-12 col-md-8 col-sm-12">
                    <span *ngIf="!IsEdit">
                        <button mat-raised-button color="primary" type="submit" [disabled]="!mentorForm.valid"
                            (click)="onSubmitMentor()">&nbsp;Submit&nbsp;
                        </button>
                        &nbsp;&nbsp;&nbsp;
                    </span>
                    <span *ngIf="IsEdit">
                    <button mat-raised-button color="primary" type="button" [disabled]="!mentorForm.valid"
                        (click)="onSaveMentor()">&nbsp;Save&nbsp;</button>
                    &nbsp;&nbsp;&nbsp;
                    </span>
                    <button mat-raised-button color="warn" (click)="cancelMentor()">Cancel</button>
                </div>
            </div>
        </form>

    </div>
</div>